"use strict";jQuery.extend({exists:function(e){return!!jQuery(e).length}}),jQuery(document).ready(function(){aytmad.main=function(){var e=function(){aytmad.utils.setJs(),aytmad.googleMaps.init(),aytmad.collapse.accordion(),aytmad.utils.moreElements(),aytmad.distritos.init(),aytmad.section.init(),aytmad.utils.goBack(),aytmad.searcher.init(),aytmad.carrusel.init(),aytmad.date.init(),aytmad.date.pickerRadioSelector(),aytmad.oculta.init(".close-info",".header .modal-alert"),aytmad.menuVertical.init(),aytmad.font.init(),aytmad.tramites.init(),aytmad.serviciosSociales.init(),aytmad.tramitesDetalle.init(),aytmad.tabs.init(),aytmad.utils.tooltip(),aytmad.utils.visibleWhenActive(),aytmad.date.picker('.form.form-electronic .c01 input[type="text"]'),aytmad.date.picker('.date-field input[type="text"]'),aytmad.table.responsive([".tributes-table .table"]),aytmad.gallery.init(),aytmad.videoplayer.init(),aytmad.tree.init(),aytmad.utils.magazine()},t=function(){aytmad.utils.ie8()||aytmad.menu.init()};return{load:e,mobileLoad:t}}(),aytmad.main.load()}),aytmad.distritos={},aytmad.distritos=function(){var e=0,t=jQuery("#mapaMadrid"),a=jQuery("#mapMapaMadrid"),n=jQuery("#mapaMadridTooltip"),i=function(){t.maphilight({fill:!0,fillColor:"0077b9",fillOpacity:1,stroke:!1,strokeColor:"ff0000",strokeOpacity:1,strokeWidth:1,fade:!0,alwaysOn:!1,neverOn:!1,groupBy:!1,wrapClass:!0,shadow:!1,shadowX:0,shadowY:0,shadowRadius:6,shadowColor:"000000",shadowOpacity:.8,shadowPosition:"outside",shadowFrom:!1}),u(),a.on("mouseover","area",r),a.on("mousemove","area",l),a.on("mouseleave","area",c),a.on("focus","area",o),a.on("blur","area",s),jQuery(window).on("resize",u),jQuery(".tabspanel").on("click",'a[href="#tab-en_tu_distrito"]',u),jQuery(".distritos").on("click",'a[href="#tabMapa"]',u)},r=function(a){var i=jQuery(this),r=a.pageX-t.offset().left+e-10,o=a.pageY-t.offset().top-60;n.css("left",r).css("top",o).show().find(".text").text(i.attr("alt"))},o=function(){jQuery(this).mouseover().css("fill","#0077b9")},s=function(){jQuery(this).mouseout().css("fill","#c1c1c1")},l=function(a){var i=a.pageX-t.offset().left+e-10,r=a.pageY-t.offset().top-60;n.css("left",i).css("top",r)},c=function(){n.hide()},u=function(){var t=jQuery(".mapContainer"),a=t.find(">div:first-child"),n=-1*(a.width()-t.width())/2;e=n,a.css("left",n)};return{init:i}}(),aytmad.section={},aytmad.section=function(){var e=function(){var e=jQuery("#section-image"),t=jQuery("header.header");e.attr("src");t.css({})};return{init:e}}(),aytmad.utils={},aytmad.utils=function(){var e=null,t=jQuery("html"),a=function(){t.removeClass("no-js")},n=function(){return t.hasClass("ie8")},i=function(){var e=jQuery("a.backbutton");e.on("click",function(e){e.preventDefault(),window.history.back()})},r=function(){var e=aytmad.config.constants.numVisibleLinks,t=jQuery("ul.trancateList");t.each(function(t,a){var n=jQuery(a),i=n.children("li:gt("+(e-1)+")");i.size()>0&&(i.addClass("hide"),o(n))})},o=function(e){var t=jQuery("<div/>").attr({"class":"button-group rs_skip"}),a=jQuery('<a href="#" class="button button3"><strong>ver m\xe1s enlaces...</strong></a>');a.on("click",function(a){a.preventDefault(),e.children("li.hide").removeClass("hide"),t.addClass("hide")}),t.append(a),e.after(t)},s=function(){var e=jQuery("form.visibleWhenActive"),t=e.find("div.button-group"),a=e.find('input[type="radio"]');a.on("click",function(){t.show()})},l=function(){var e=jQuery(".ico-info"),t=jQuery(".tooltip-instalacion"),a=t.find(".linkCerrarPopupTooltip");e.add(a).on("click",function(e){e.preventDefault(),t.is(":visible")?t.hide():t.show()})},c=function(){var e=jQuery("#magazine");if(jQuery.exists(e)){var t=jQuery("header.header .section-cont");t.after(e.clone()),t.find(".section-name").addClass("section-hidden")}},u=function(){if(null===e){var t=document.createElement("a");return"undefined"==typeof t.download?(e=!1,!1):(e=!0,!0)}return e},d=function(e){for(var t=window.location.search.substring(1),a=t.split("&"),n=0;n<a.length;n++){var i=a[n].split("=");if(i[0]===e)return i[1]}return!1},f=function(e){var t=d(e),a=decodeURIComponent(t);return a};return{setJs:a,ie8:n,goBack:i,visibleWhenActive:s,moreElements:r,tooltip:l,magazine:c,downloadSupport:u,getParamFromUrl:f}}(),aytmad.menu={},aytmad.menu=function(){var e=jQuery("#navbar"),t={},a=jQuery("<a/>").attr({"class":"sidebar-ico",href:"#menu",id:"sidebar-toggle-button"}),n=jQuery("<nav/>").attr({id:a.attr("href").replace("#",""),"class":"sidebar"}),i=function(){var t=jQuery("<div/>").attr({"class":"navigation-bar-ico nb-menu"}).append(a);e.prepend(t)},r=function(e){var t;t=e.href?jQuery("<a/>").attr({href:e.href,"class":"sidebar-link "+e["class"]}):jQuery("<span/>").attr({"class":"sidebar-link "+e["class"]}),t.text(e.text);var a=jQuery("<li/>").append(t);return a},o=function(e){var t=jQuery("<ul/>");return jQuery.each(e.elements,function(e,a){var n=r(a);a.submenu&&n.append(o(a.submenu)),t.append(n)}),t},s=function(){var e=jQuery.ajax({url:aytmad.config.routes.menu,dataType:"json"}),a=jQuery.ajax({url:aytmad.config.routes.menuTramites,dataType:"json"});jQuery.when(e,a).then(function(e,a){t=e[0],t.menu.elements.unshift(a[0].menu.elements[0]),n.append(o(t.menu)),n.mmenu({header:{add:!0,update:!0,title:aytmad.i18n.menu,content:["close","title","prev"]}},{offCanvas:{pageSelector:"#wrapper"}})})},l=function(){i(),s()};return{init:l}}(),aytmad.collapse={},aytmad.collapse=function(){var e="collapse-item",t=function(){var t=jQuery("."+e);jQuery.exists(t)&&t.on("click",function(){var t=jQuery(this),a=t.parent("li").siblings();t.toggleClass("collapse-item-active"),a.children("."+e).removeClass("collapse-item-active")})},a=function(){var e=jQuery("div.panel-group.info-detalles");jQuery.exists(e)&&e.on("shown.bs.collapse",function(e){var t=jQuery(e.target),a=t.prev(".panel-title");jQuery("html, body").animate({scrollTop:a.offset().top},1e3)})};return{init:t,accordion:a}}(),aytmad.searcher={},aytmad.searcher=function(){var e=jQuery("#navbar"),t=jQuery("#searcher-form"),a=jQuery("<a/>").attr({"class":"searcher-link searcher-toggle",href:"#"+t.attr("id"),id:"searcher-toggle-button",title:aytmad.i18n.buscar}),n=function(){var t=jQuery("<div/>").attr({"class":"navigation-bar-ico nb-search"}).append(a);e.append(t)},i=function(){jQuery.exists(t)&&(n(),e.addClass("navigation-bar-toggle"),a.on("click",function(t){t.preventDefault(),e.toggleClass("navigation-bar-active"),e.hasClass("navigation-bar-active")?(jQuery("#search-field").focus(),a.attr("title",aytmad.i18n.cerrarbuscador),jQuery("#searcher-form .searcher-link").attr("title",aytmad.i18n.buscar)):a.attr("title",aytmad.i18n.buscar)}))};return{init:i}}(),aytmad.carrusel={},aytmad.carrusel=function(){var e=jQuery(".carouselHome"),t=function(){a(),r(),o(),s(),l(),c()},a=function(){jQuery.exists(e)&&(n(e.clone()),e.on("resize.owl.carousel resized.owl.carousel",function(){e.data("owlCarousel").reload()}),e.owlCarousel({scrollPerPage:!0,items:8,itemsDesktop:[1200,8],itemsDesktopSmall:[992,6],itemsTablet:[768,6],itemsMobile:!1,pagination:!0,paginationNumbers:!1}))},n=function(t){var a=jQuery("<div/>").attr({id:"listadoHome","class":"listadoHome"}),n=t.data("text-hide"),r=t.data("text-show");t.children("li").removeClass("item"),t.attr("class","collapse"),t.removeAttr("id"),a.append(t),e.after(a);var o=jQuery('<a href="#" id="btnHomeTemas" class="button button4 button-icon"><strong>'+r+'</strong> <i class="button-icon-arrowbottom"></i></a>').on("click",function(e){e.preventDefault();var t=jQuery(this),o=a.hasClass("active")?r:n;i(t,a,o)}),s=jQuery("<div/>").attr({"class":"btnWrapper"}).append(o);a.append(s)},i=function(e,t,a){var n=t.children("ul"),i=e.children("strong");t.toggleClass("active"),n.collapse("toggle"),i.text(a)},r=function(){var e=jQuery(".carouselTeInteresa");e.on("resize.owl.carousel resized.owl.carousel",function(){e.data("owlCarousel").reload()}),e.owlCarousel({scrollPerPage:!0,items:4,itemsDesktop:[1200,4],itemsDesktopSmall:[992,4],itemsTablet:[767,2],itemsMobile:!1,pagination:!0,paginationNumbers:!1})},o=function(){var e=jQuery(".carouselFormasParte");e.on("resize.owl.carousel resized.owl.carousel",function(){e.data("owlCarousel").reload()}),e.owlCarousel({scrollPerPage:!0,items:4,itemsDesktop:[1200,4],itemsDesktopSmall:[992,4],itemsTablet:[767,2],itemsMobile:!1,pagination:!0,paginationNumbers:!1})},s=function(){var e=jQuery(".carouselConsultas");e.on("resize.owl.carousel resized.owl.carousel",function(){e.data("owlCarousel").reload()}),e.owlCarousel({scrollPerPage:!0,items:4,itemsDesktop:[1200,4],itemsDesktopSmall:[992,4],itemsTablet:[767,2],itemsMobile:!1,pagination:!0,paginationNumbers:!1})},l=function(){var e=jQuery(".carousel-gobierno-abierto");e.on("resize.owl.carousel resized.owl.carousel",function(){e.data("owlCarousel").reload()}),e.owlCarousel({scrollPerPage:!0,items:3,itemsDesktop:[1200,3],itemsDesktopSmall:[992,3],itemsTablet:[767,2],itemsMobile:!1,pagination:!0,paginationNumbers:!1})},c=function(){var e=jQuery(".carouselNoticia");e.on("resize.owl.carousel resized.owl.carousel",function(){e.data("owlCarousel").reload()}),e.owlCarousel({scrollPerPage:!1,items:3,itemsDesktop:[1200,3],itemsDesktopSmall:[992,3],itemsTablet:[767,2],itemsMobile:[320,1],pagination:!1,paginationNumbers:!1,navigation:!0,rewindNav:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:window,navigationText:["",""]})};return{init:t}}(),aytmad.date={},aytmad.date=function(){var e=('<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed"><caption class="text-hide">'+aytmad.i18n.calendario+'</caption><thead><tr><th class="prev"><a href="#" title="'+aytmad.i18n.anterior+'">'+aytmad.i18n.anterior+'</a></th><th colspan="5" class="datepicker-switch"></th><th class="next"><a href="#" title="'+aytmad.i18n.siguiente+'">'+aytmad.i18n.siguiente+'</a></th></tr></thead><tbody></tbody><tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot></table></div><div class="datepicker-months"><table class="table-condensed"><thead><tr><th class="prev"><a href="#" title="'+aytmad.i18n.anterior+'">'+aytmad.i18n.anterior+'</a></th><th colspan="5" class="datepicker-switch"></th><th class="next"><a href="#" title="'+aytmad.i18n.siguiente+'">'+aytmad.i18n.siguiente+'</a></th></tr></thead><tbody><tr><td colspan="7"></td></tr></tbody><tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot></table></div><div class="datepicker-years"><table class="table-condensed"><thead><tr><th class="prev"><a href="#" title="'+aytmad.i18n.anterior+'">Anterior</a></th><th colspan="5" class="datepicker-switch"></th><th class="next"><a href="#" title="'+aytmad.i18n.siguiente+'">'+aytmad.i18n.siguiente+'</a></th></tr></thead><tbody><tr><td colspan="7"></td></tr></tbody><tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot></table></div></div>',jQuery("#activitiesCalendar")),t=jQuery("#calendarSelectionPicker"),a=function(){e.datepicker({startDate:new Date,language:"es",todayHighlight:!0}).on("changeDate",function(e){window.location=aytmad.config.routes.calendar+e.format()})},n=function(){jQuery(".datepicker .datepicker-days .table-condensed tbody > tr > td").not("td.day.disabled").each(function(e,t){jQuery(t).html('<a href="#">'+t.innerHTML+"</a>")})},i=function(e){var t=jQuery(e);jQuery.exists(t)&&(t.addClass("form-control-date"),t.datepicker({language:"es",autoclose:!0,todayHighlight:!0}))},r=function(){var e=jQuery("#radioSelectionPicker"),a=e.find("input:radio"),i=t.find("input.calendarSelectionPickerInput"),r=aytmad.utils.getParamFromUrl("fechaAccesible");t.datepicker({startDate:new Date,language:"es",todayHighlight:!0}).on("changeDate",function(t){i.val(t.format()),a.prop("checked",!1),e.find("input#when1").prop("checked",!0)}),t.datepicker("update",r),a.is(":checked")&&o(e.find("input:radio:checked")),a.on("change",function(){t.datepicker("update",new Date);var e=jQuery(this);o(e)}),n()},o=function(e){var a=e.attr("id");if("when2"===a||"when3"===a){var n=t.find("td.today");e.parents(".radio").siblings(".radio").removeClass("radio-check"),e.parents(".radio").addClass("radio-check");var i=n.parent("tr");switch(a){case"when2":i.children("td:gt(3)").addClass("check-weekend"),i.children("td:eq(4)").addClass("check-weekend-init"),i.children("td:eq(6)").addClass("check-weekend-end");break;case"when3":i.addClass("check-week")}}};return{init:a,addEnableDay:n,picker:i,pickerRadioSelector:r}}(),aytmad.menuVertical={},aytmad.menuVertical=function(){var e=jQuery(".menuVertical"),t=jQuery(".btnSubmenu"),a=function(){r(),o(),n(),e.find(".menu").on("click",".btnSubmenu",i)},n=function(){t.each(function(){var e=jQuery(this);e.hasClass("active")||e.next(".submenu").removeClass("in")})},i=function(e){var t=jQuery(this),a=t.attr("href"),n=t.siblings(".submenu");(jQuery(e.target).hasClass("flecha")||"#"===a)&&(e.preventDefault(),t.toggleClass("active"),n.slideToggle("fast"))},r=function(){var t=jQuery(".footer");if(e.length&&t.length){var a=jQuery(".menuVertical").clone();a.find(".menu").remove(),a.addClass("menuSocialFooter"),a.insertBefore(t)}},o=function(){var e=jQuery(".enlacesMenuVertical");e.each(function(e,t){var a=jQuery(t),n="menu"+e,i=a.find(".btnMenuVerticalCompartir"),r=a.find('a[class^="linkCerrarPopupSocial"]'),o=jQuery(".popupMenuSocial"),s=jQuery(".popupMenuSocialSeguir");a.attr("id",n),jQuery.exists(i)&&i.on("click",function(e){e.preventDefault(),o.slideToggle("fast"),s.slideUp("fast"),i.hasClass("icon-selected")?i.removeClass("icon-selected"):i.addClass("icon-selected")}),r.on("click",function(e){e.preventDefault(),r.parent().slideUp("fast"),i.removeClass("icon-selected")})})};return{init:a}}(),aytmad.recoloca={},aytmad.recoloca=function(){function e(e,t){"prev"===t?jQuery(e).remove():jQuery(e).parent().remove()}function t(e,t){var a=jQuery(t);if("prev"===t){var n=jQuery(e).prev();n.before(e)}else a.first().before(e)}var a=function(a,n){var i=jQuery(a).parent();n===a?t(i,"prev"):(e(a),t(i,n))};return{init:a}}(),aytmad.oculta={},aytmad.oculta=function(){function e(e){e.hide()}function t(e){e.show()}var a=function(a,n){var i=jQuery(a),r=jQuery(n);i.on("click",function(a){a.preventDefault(),"none"===r.css("display")?t(r):e(r)})};return{init:a}}(),aytmad.font={},aytmad.font=function(){function e(e){var t,a,n,i=e.attr("style");void 0===i?e.css("font-size","104%"):(t=i.split(":"),a=parseInt(t[1]),n=a+3,e.css("font-size",n+"%"))}function t(e){var t=e.attr("style"),a=t.split(":"),n=parseInt(a[1]),i=n-2;i>100&&e.css("font-size",i+"%")}var a=function(){jQuery(".botonesFuenteImprimir a").on("click",function(a){a.preventDefault();var n=jQuery(this).attr("id"),i=jQuery("main");"btnMenuVerticalAumentarFuente"===n?e(i):"btnMenuVerticalReducirFuente"===n?t(i):"btnMenuVerticalImprimir"===n&&window.print()})};return{init:a}}(),aytmad.tramites={},aytmad.tramites=function(){var e=function(){var e=jQuery(".mainContent");e.on("click","#linkTramitarEnLinea",t),e.on("click",".tramite-metodos .button",a)},t=function(e){e.preventDefault();var t=jQuery('.tramite-detalles a[href="#enLinea"]'),a=0,n=t.attr("href");jQuery(n).hasClass("in")||t.click(),a=jQuery("#enLinea").offset().top-t.height(),jQuery("html, body").animate({scrollTop:a},1e3)},a=function(e){e.preventDefault();var t=jQuery(".tramite-detalles"),a=t.offset().top-(t.prev().height()+30);jQuery("html, body").animate({scrollTop:a},1e3)};return{init:e}}(),aytmad.serviciosSociales={},aytmad.serviciosSociales=function(){var e=function(){jQuery("#tipoInstalacion").length&&(jQuery.ajax({type:"GET",url:aytmad.config.routes.taxonomias,dataType:"xml",contentType:"text/xml; charset=ISO-8859-1",success:function(e){t(e)},failure:function(){console.log("XML File could not be found")}}),jQuery("#tipoInstalacion").on("keyup",function(){""===jQuery("#tipoInstalacion").val()&&jQuery("#tipoId").val("")}),jQuery("#tipoInstalacion").on("typeahead:selected",function(e,t){jQuery("#tipoId").val(t.value)}))},t=function(e){for(var t=jQuery(e).find("item"),n=[],i=0,r=t.length;r>i;i++){var o={},s=jQuery(t[i]);o.text=s.find("text").text(),o.value=s.find("value").text(),n.push(o)}a(n)},a=function(e){var t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("text"),queryTokenizer:Bloodhound.tokenizers.whitespace,limit:10,local:e,filter:function(e){return jQuery.map(e,function(e){return{name:e.text,id:e.value}})}});t.initialize(),jQuery("#tipoInstalacion").typeahead({highlight:!0},{name:"tipos",displayKey:"text",source:t.ttAdapter()})};return{init:e}}(),aytmad.tramitesDetalle={},aytmad.tramitesDetalle=function(){var e=function(){var e=window.location.search.substring(1),t=e.split("="),a=t[t.length-1],n=e.slice().indexOf("target")>-1;return n===!0&&a},t=function(e){jQuery(".collapse").each(function(){var t=jQuery(this);t.attr("id")!==e?t.hasClass("submenu")||t.removeClass("in"):t.attr("id")!==e&&t.hasClass("submenu")||jQuery('a[href="#'+e+'"]').removeClass("collapsed")})},a=function(e){if(e.length){var t=jQuery('a[href="#'+e+'"]'),a=500;setTimeout(function(){var a=jQuery("#"+e).offset().top-t.height();jQuery("html, body").animate({scrollTop:a},1e3)},a)}},n=function(){var n=jQuery(".panel");if(n.length){var i=e("dest");t(i),a(i)}};return{init:n}}(),aytmad.tabs={},aytmad.tabs=function(){var e="nav-tabs",t="tabspanel-select",a=function(){s(),n(),i();var e=jQuery(".tabsToSelect");if(e.length)for(var t=0,a=e.length;a>t;t++)r(jQuery(e[t]));if(e=jQuery(".tabspanel "),e.length){for(var l=0,c=e.length;c>l;l++)o(jQuery(e[l]),".nav-tabs-xs-select a","tabspanel-select");i()}},n=function(){var t=jQuery("."+e+" a");jQuery.exists(t)&&t.on("click",function(e){e.preventDefault();var t=jQuery(this);t.tab("show")})},i=function(){var e=jQuery("."+t);jQuery.exists(e)&&e.on("change",function(e){function t(){r.each(function(){var e=jQuery(this);e.hasClass("active")&&e.removeClass("active")}),o.each(function(){var e=jQuery(this);e.hasClass("active")&&e.removeClass("active")})}e.preventDefault();var a=jQuery(this),n=jQuery(a.parent()),i=a.parent().find(":selected").val(),r=jQuery(".tab-pane",n),o=jQuery(".nav-tabs li",n);t(),n.find(".tab-content").find(i).addClass("active"),n.find(".nav-tabs").find("a[href="+i+"]").parent().addClass("active")})},r=function(e){var t="",a=e.find(".tabsToSelectItem"),n=!0;if(a.length>0&&n){t="<select>";for(var i=0,r=a.length;r>i;i++)t+='<option value="'+jQuery(a[i]).attr("href")+'">'+jQuery(a[i]).text()+"</option>";t+="</select>",e.append(t)}},o=function(e,t,a){var n="",i=e.find(t),r=!0;if(i.length>0&&r){n='<select class="'+a+'">';for(var o=0,s=i.length;s>o;o++)n+='<option value="'+jQuery(i[o]).attr("href")+'">'+jQuery(i[o]).text()+"</option>";n+="</select>",e.prepend(n)}},s=function(){var e=jQuery(".tab-content");e.each(function(){jQuery(".tab-pane:not(:first-child)").removeClass("active")})};return{init:a}}(),aytmad.table={},aytmad.table=function(){var e=function(e){jQuery.each(e,function(){var e=jQuery(this);jQuery.exists(e)&&t(e)})},t=function(e){var t=e.find("thead tr").children(),a=e.find("tbody tr");a.each(function(e,a){var n=jQuery(a),i=n.children();i.each(function(e,a){var n=jQuery(t.get(e)).children(),i=jQuery(a);i.prepend(n.clone().addClass("table-text-header"))})})};return{responsive:e}}(),aytmad.googleMaps={},aytmad.googleMaps=function(){var e=jQuery("#vermapa"),t=jQuery("#tabmapa"),a=null,n=18,i=[],r=!1,o=!1,s=function(){jQuery.exists(e)&&c(),jQuery.exists(t)&&u()},l=function(){if(!r){r=!0;var e=document.createElement("script");e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?key="+aytmad.config.constants.API_KEY+"&callback=aytmad.googleMaps.initialize",document.body.appendChild(e)}},c=function(){a=jQuery(e.attr("href")),i=d(e),e.on("click",function(e){e.preventDefault(),l(),a.slideToggle(300).toggleClass("in"),f()})},u=function(){a=jQuery(t.attr("href")),i=d(jQuery(".event-location")),t.on("click",function(e){e.preventDefault(),l()})},d=function(e){var t=[];return e.each(function(e,a){var n=jQuery(a);t.push({name:n.data("name"),dir:n.data("direction"),lat:parseFloat(n.data("latitude")),"long":parseFloat(n.data("longitude"))})}),t},f=function(){var t=e.text(),a=e.attr("data-toggle-text");e.attr("data-toggle-text",t),e.get(0).childNodes[0].nodeValue=a},y=function(){var e,t;if(o===!1){o=!0,t={zoom:n,center:new google.maps.LatLng(i[0].lat,i[0]["long"])},e=new google.maps.Map(a.get(0),t);var r=new google.maps.LatLngBounds;jQuery(i).each(function(t,a){var n=new google.maps.LatLng(a.lat,a["long"]),i=new google.maps.Marker({map:e,position:n,title:a.name,icon:"/assets/images/map/map-icon-target.png"});r.extend(n);var o=new google.maps.InfoWindow({content:'<span class="infoWindow-name">'+a.name+'</span><span class="infoWindow-direction">'+a.dir+"</span>"});google.maps.event.addListener(i,"click",function(){o.open(e,i)})}),i.length>1&&e.fitBounds(r)}};return{init:s,initialize:y}}(),aytmad.gallery={},aytmad.gallery=function(){var e=jQuery('a[data-toggle="lightbox"]'),t=function(){jQuery.exists(e)&&e.on("click",function(e){e.preventDefault(),jQuery(this).ekkoLightbox({onShown:function(){var e=this.modal_dialog,t=this.$element.attr("data-size"),a=this.$element.attr("href"),n=jQuery("<a/>").attr({"class":"gallery-link",href:a}).text("Descargar").append('<span class="gallery-text">'+t+"</span>");aytmad.utils.downloadSupport()?n.attr("download",a.replace(/^.*[\\\/]/,"")):n.attr("target","_blank"),e.find(".modal-footer").prepend(n)}})})};return{init:t}}(),aytmad.videoplayer={},aytmad.videoplayer=function(){var e=function(){var e=jQuery(".currentvideo");e.each(function(e,a){var n=jQuery(a),i="videoPlayer"+e;n.attr("id",i),t(n)})},t=function(e){var t=e.data("height"),a=e.data("width"),n=e.data("image"),i=e.data("urlhtml5"),r='<video width="'+a+'" height="'+t+'" poster="'+n+'" controls=""><source src="'+i+'" type="video/mp4"></source></video>';e.html(r)};return{init:e}}(),aytmad.tree={},aytmad.tree=function(){var e=jQuery(".tree"),t=function(){jQuery.exists(e)&&(a(),n())},a=function(){var t=e.find("li:has(ul)");t.addClass("parent_li"),t.children(".tree-header").prepend('<a href="#" class="tree-toggle plus" title="'+aytmad.i18n.desplegar+'"></a>'),t.find(" > ul > li").hide()},n=function(){e.find("li.parent_li > .tree-header > a.tree-toggle").on("click",function(e){e.preventDefault();var t=jQuery(this),a=t.closest("li.parent_li").find(" > ul > li");t.toggleClass("plus"),t.hasClass("plus")?t.attr("title",aytmad.i18n.desplegar):t.attr("title",aytmad.i18n.ocultar),a.toggle(),e.stopPropagation()})};return{init:t}}(),aytmad.nxc={},aytmad.nxc=function(){var e=jQuery("#nxc"),t=e.find("ul.menu"),a=function(){if(jQuery.exists(e)&&jQuery.exists(t)){var a=e.find(".menuVertical"),n=a.find("ul.menu"),i=jQuery("ul.menu li:first-child a").attr("title"),r=jQuery("<a/>").attr({href:"#","class":"nxc-toggle-link"}).text(i);a.prepend(r),r.on("click",function(e){e.preventDefault(),n.toggleClass("menu-active")})}};return{init:a}}();